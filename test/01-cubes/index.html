<!DOCTYPE html>
<html>
<head>
    <title>01-cubes - bgfx.js</title>
</head>
<body>
    <script src="../../bin/bgfx_debug.js"></script>
    <script>
    (function() {
        var s_cubeVertices = [
            -1.0,  1.0,  1.0, 0xff, 0x00, 0x00, 0x00,
             1.0,  1.0,  1.0, 0xff, 0x00, 0x00, 0xff,
            -1.0, -1.0,  1.0, 0xff, 0x00, 0xff, 0x00,
             1.0, -1.0,  1.0, 0xff, 0x00, 0xff, 0xff,
            -1.0,  1.0, -1.0, 0xff, 0xff, 0x00, 0x00,
             1.0,  1.0, -1.0, 0xff, 0xff, 0x00, 0xff,
            -1.0, -1.0, -1.0, 0xff, 0xff, 0xff, 0x00,
             1.0, -1.0, -1.0, 0xff, 0xff, 0xff, 0xff
        ];

        var s_cubeIndices = [
            0, 1, 2, // 0
            1, 3, 2,
            4, 6, 5, // 2
            5, 6, 7,
            0, 2, 4, // 4
            4, 2, 6,
            1, 5, 3, // 6
            5, 7, 3,
            0, 4, 1, // 8
            4, 5, 1,
            2, 3, 6, // 10
            6, 3, 7,
        ];

        var width  = 1280;
        var height = 720;

        bgfx.init();
        bgfx.reset(width, height, 0);
        bgfx.setDebug(bgfx.DEBUG_TEXT);
        bgfx.setViewClear(0, bgfx.CLEAR_COLOR|bgfx.CLEAR_DEPTH, 0x303030ff, 1, 0);

        var vertDecl = new bgfx.VertexDecl();
        vertDecl.begin();
        vertDecl.add(bgfx.Attrib.POSITION, 3, bgfx.AttribType.FLOAT);
        vertDecl.add(bgfx.Attrib.COLOR0,   4, bgfx.AttribType.UINT8, true);
        vertDecl.end();

        var vbh = bgfx.createVertexBuffer(s_cubeVertices, vertDecl);
        var ibh = bgfx.createIndexBuffer(s_cubeIndices);

        var vsh = bgfx.createShader(s_vsh);
        var fsh = bgfx.createShader(s_fsh);
        var program = bgfx.createProgram(vsh, fsh);

        vsh = null;
        fsh = null;

        (function render() {
            bgfx.setViewRect(0, 0, 0, width, height);
            bgfx.submit(0, 0);

            // bgfx.dbgTextClear(0, false);
            // bgfx.dbgTextImage(Math.max(width/2/8, 20)-20, Math.max(height/2/16, 6)-6, 40, 12, s_logo, 160);
            // bgfx.dbgTextPrintf(0, 1, 0x4f, 'bgfx/examples/00-helloworld');
            // bgfx.dbgTextPrintf(0, 2, 0x6f, 'Description: Initialization and debug text');

            // bgfx.frame();

            requestAnimationFrame(render);
        }());
    }());
    </script
</body>
</html>